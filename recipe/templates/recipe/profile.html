{% extends 'recipe/base.html' %}
{% load static %}
{% block content %}

<style>
	.profileImage img {
		display: block; 
		margin-left: auto; 
		margin-right: auto; 
		width: 50%;
		border-radius: 50%;
	}
</style>
<div class="limiter">
	<div class="container-login100">
		<div class="wrap-login100">
			<form class="login100-form validate-form" method="POST" enctype="multipart/form-data" >
				{% csrf_token %}
				<span class="login100-form-title p-b-34">
					{{ user.username }}
				</span>
			
				<div class="m-b-20">
					<div class="profileImage">
						<img src="{{profile.profile_pic.url}}" id="profilePic" width="200">
					</div>
				</div>

				<div class="wrap-input200 validate-input m-b-20" data-validate="Type user name">
					<input id="username" class="input100" type="text" name="username" value="{{user.username}}" required>
					<span class="focus-input100"></span>
				</div>

				<div class="wrap-input200 validate-input m-b-20" data-validate="Type password">
					<input class="input100" type="email" name="email" value="{{user.email}}" required>
					<span class="focus-input100"></span>
				</div>

				<div class="wrap-input200 validate-input m-b-20" data-validate="Type first name">
					<input id="first-name" class="input100" type="text" name="fname" value="{{user.first_name}}" required>
					<span class="focus-input100"></span>
				</div>
				
				<div class="wrap-input200 validate-input m-b-20" data-validate="Type last name">
					<input id="last-name" class="input100" type="text" name="lname" value="{{user.last_name}}" required>
					<span class="focus-input100"></span>
				</div>

				<div class="wrap-input200 validate-input m-b-20" data-validate="Type phone number">
					<input id="phone-number" class="input100" type="tel" name="phone" value="{{profile.phone}}" required>
					<span class="focus-input100"></span>
				</div>
				
				<div class="wrap-input200 validate-input m-b-20" data-validate="Type city">
					<input id="city" class="input100" type="text" name="city" value="{{ profile.city }}" required>
					<span class="focus-input100"></span>
				</div>

				<div class="wrap-input200 validate-input m-b-20" data-validate="Type country">
					<input id="country" class="input100" type="text" name="country" value="{{profile.country}}" required>
					<span class="focus-input100"></span>
				</div>

				<div class="wrap-input200 m-b-20" data-validate="Bio">
					<textarea id="user-bio" class="form-control" rows="5" name="userBio" required>{{profile.bio}}</textarea>
					<span class="focus-input100"></span>
				</div>

				<div class="m-b-20 wrap-input200">
                                        <input type="file" onchange="readURL(this);" class="form-control"  name="userProfilePic">
					<span class="focus-input100"></span>
				</div>

				{% if messages %}
					{% for message in messages %}
						{% if message.tags == 'info' %}
							<div class="w-full text-center" style="padding: 10px;">
								<span style="color: green; font-weight: bold">{{message}}</span>
							</div>
						{% elif message.tags == 'error' %}
							<div class="w-full text-center" style="padding: 10px;">
								<span style="color: red; font-weight: bold">{{message}}</span>
							</div>
						{% endif %}
					{% endfor %}
				{% endif %}
				
				<div class="container-login100-form-btn">
					<button class="login100-form-btn" type="submit">
						Update Profile
					</button>
				</div>

				<div class="w-full text-center p-t-27 p-b-239">
					{% comment %} <span class="txt1">
						Forgot
					</span> {% endcomment %}

					{% comment %} <a href="#" class="txt2">
						Forgot password?
					</a> {% endcomment %}
				</div>
			</form>

			<div class="login100-more profileImage">
				<span class="login100-form-title p-b-34">
					{{ user.username }}
				</span>
				<img src="{{profile.profile_pic.url}}" id="profilePic" width="200">
			</div>
		</div>
	</div>
</div>


<div id="dropDownSelect1"></div>
<script src="{% static 'login/vendor/jquery/jquery-3.2.1.min.js' %}"></script>
<script src="{% static 'login/vendor/animsition/js/animsition.min.js' %}"></script>
<script src="{% static 'login/vendor/bootstrap/js/popper.js' %}"></script>
<script src="{% static 'login/vendor/bootstrap/js/bootstrap.min.js' %}"></script>
<script src="{% static 'login/vendor/select2/select2.min.js' %}"></script>
<script>
	$(".selection-2").select2({
		minimumResultsForSearch: 20,
		dropdownParent: $('#dropDownSelect1')
	});

	$('head').append("<title>Login</title><link rel=\"icon\" type=\"image/png\" href=\"{% static 'login/images/icons/favicon.ico' %}\"/> <link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'login/vendor/bootstrap/css/bootstrap.min.css' %}\"><link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'login/fonts/font-awesome-4.7.0/css/font-awesome.min.css' %}\"><link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'login/fonts/Linearicons-Free-v1.0.0/icon-font.min.css' %}\"><link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'login/vendor/animate/animate.css' %}\"><link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'login/vendor/css-hamburgers/hamburgers.min.css' %}\"><link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'login/vendor/animsition/css/animsition.min.css' %}\"><link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'login/vendor/select2/select2.min.css' %}\"><link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'login/vendor/daterangepicker/daterangepicker.css' %}\"><link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'login/css/util.css' %}\"><link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'login/css/main.css' %}\">");


	function readURL(input) {
		if (input.files && input.files[0]) {
			var reader = new FileReader();

			reader.onload = function (e) {
				$('#profilePic')
					.attr('src', e.target.result);
			};

			reader.readAsDataURL(input.files[0]);
		}
	}	
</script>
<script src="{% static 'login/vendor/daterangepicker/moment.min.js' %}"></script>
<script src="{% static 'login/vendor/daterangepicker/daterangepicker.js' %}"></script>
<script src="{% static 'login/vendor/countdowntime/countdowntime.js' %}"></script>
<script src="{% static 'login/js/main.js' %}"></script>
{% endblock %}